function e(e){return e&&e.__esModule?e.default:e}var t=globalThis,r={},n={},i=t.parcelRequire177f;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return r[e]=i,t.call(i.exports,i,i.exports),i.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequire177f=i),(0,i.register)("27Lyk",function(e,t){Object.defineProperty(e.exports,"register",{get:()=>r,set:e=>r=e,enumerable:!0,configurable:!0});var r,n=new Map;r=function(e,t){for(var r=0;r<t.length-1;r+=2)n.set(t[r],{baseUrl:e,path:t[r+1]})}}),i("27Lyk").register(new URL("",import.meta.url).toString(),JSON.parse('["f9fpV","index.4496ecf8.js","dFWCV","sign.ef63525f.jpeg","nBMTc","ventrac.aadc69e3.jpg","gNdDj","plow.66ea6c45.webp","ezd68","stripes2.b656110f.webp","gIak6","stripes3.7f6c1366.webp","iBxmN","index.051688e6.css"]'));const s={isMenuOpen:!1,weather:{current:{},minutely:{}}},a=function(e){let{current:t}=e;return{feelsLike:`${Math.round(t.feels_like)}\xb0F in Canton`,description:t.weather[0].description,icon:t.weather[0].icon}},o=function(e){let{minutely:t}=e,r=t?.find(e=>e.precipitation>0);if(!r)return"No rain expected in the next hour.";{let e=Math.floor(Date.now()/1e3),t=Math.round((r.dt-e)/60);return`Rain starting in ${t} minutes.`}},c=async function(){try{let e=await fetch("https://api.openweathermap.org/data/3.0/onecall?lat=40.5581&lon=-90.0351&units=imperial&appid=af60b2f2f7d84ec266abbe85e39f343e"),t=await e.json();if(!e.ok)throw Error("Failed to fetch weather data");s.weather.current=a(t),s.weather.minutely=o(t)}catch(e){console.error(e)}};class l{_data;render(e){this._data=e;let t=this._generateMarkup();this.clear(),this._parentElement.insertAdjacentHTML("afterbegin",t)}clear(){this._parentElement.innerHTML=""}}class h extends l{#e=document.querySelector(".header");#t;#r;#n;#i;#s;#a;#o;constructor(){super(),this.#t=this.#e.querySelector(".navbar__toggle-btn"),this.#r=this.#t.querySelector(".navbar__toggle-btn-icon"),this.#n=this.#e.querySelector(".navbar__mobile"),this.#i=document.querySelector(".hero"),this.#s=document.querySelector(".hero__video"),this.#a=document.querySelector(".page-hero"),this.#o=this.#e.getBoundingClientRect().height}render(e){this._data=e,this._toggleMobileMenuIcon()}_toggleMobileMenuIcon(){this.#r&&this.#n&&(this.#n.classList.toggle("navbar__mobile--open",this._data),this.#r.classList=this._data?"fa-solid fa-xmark":"fa-solid fa-bars")}addHandlerToggle(e){this.#t&&this.#t.addEventListener("click",e)}initStickyNav(){let e=new IntersectionObserver(e=>{let[t]=e;t.isIntersecting?this.#e.classList.remove("header--sticky"):this.#e.classList.add("header--sticky"),this.#i&&(this.#i.style.paddingTop=`${this.#o}px`,this.#s.style.height=`calc(100vh - ${this.#o}px)`)},{root:null,threshold:0,rootMargin:`-${this.#o}px`});this.#i&&e.observe(this.#i),this.#a&&e.observe(this.#a)}}var d=new h,g={};g=new URL("sign.ef63525f.jpeg",import.meta.url).toString();var u={};u=new URL("ventrac.aadc69e3.jpg",import.meta.url).toString();var p={};p=new URL("plow.66ea6c45.webp",import.meta.url).toString();var _={};_=new URL("stripes2.b656110f.webp",import.meta.url).toString();var m={};m=new URL("stripes3.7f6c1366.webp",import.meta.url).toString();const f={"sign.jpeg":/*@__PURE__*/e(g),"ventrac.jpg":/*@__PURE__*/e(u),"plow.webp":/*@__PURE__*/e(p),"stripes2.webp":/*@__PURE__*/e(_),"stripes3.webp":/*@__PURE__*/e(m)};var v=new class extends l{#c;initLazyLoad(){this.#c=document.querySelectorAll("img[data-src]");let e=new IntersectionObserver(function(e,t){var r;let[n]=e;if(!n.isIntersecting)return;let i=f[r=n.target.getAttribute("data-src")]?f[r]:(console.error(`Image not found: ${r}`),null);i&&(n.target.src=i,n.target.addEventListener("load",()=>{n.target.classList.replace("lazy_img","lazy_img--loaded")}),t.unobserve(n.target))},{root:null,threshold:0,rootMargin:"50px"});this.#c.forEach(t=>e.observe(t))}},b=new class extends l{#e;#l;#h;constructor(){if(super(),this.#e=document.querySelector(".services__list"),this.#l=document.querySelectorAll(".services__list .btn"),this.#h=document.querySelectorAll(".services__description"),!this.#e)return;window.addEventListener("resize",this._handleResize.bind(this))}_handleResize(){window.innerWidth<=1130&&this.#l.forEach(e=>e.style.transform="translateY(0)")}addClickHandler(e){this.#e.addEventListener("click",function(t){let r=t.target.closest(".btn");r&&e(r)})}toggleActiveButton(e){this.#l.forEach(e=>{e.classList.remove("service--active"),e.style.transform="translateY(0)"}),e.classList.add("service--active"),window.innerWidth>=1130&&(e.style.transform="translateY(-25%)"),this.#h.forEach(e=>{e.classList.add("hidden")});let t=document.querySelector(`.services__description--${e.dataset.tab}`);t&&t.classList.remove("hidden")}},w=new class extends l{_parentElement;constructor(){super(),this._parentElement=document.querySelector(".footer__weather")}_generateMarkup(){return`
    <p class="footer__weather-text">Feels like ${this._data.current.feelsLike}.</p>
    <p class="footer__weather-text">${this._data.minutely}</p>
    `}renderError(e="Something went wrong while fetching weather data."){this._parentElement.textContent=e}};const E=function(){s.isMenuOpen=!s.isMenuOpen,d.render(s.isMenuOpen)},y=function(e){b.toggleActiveButton(e)},H=async function(){try{await c(),w.render(s.weather)}catch(e){console.error(e),w.renderError()}};!async function(){d.addHandlerToggle(E),d.initStickyNav(),v.initLazyLoad(),await H(),document.querySelector(".services__list")&&b.addClickHandler(y)}();
//# sourceMappingURL=index.4496ecf8.js.map
